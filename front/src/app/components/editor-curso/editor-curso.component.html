<div class="m-2 flex flex-grow flex-col items-center rounded-lg border border-black p-2">
	<h2 class="font-bold text-blue-500">Editor del curso: {{ this.curso?.nombre_curso }}</h2>
	<br />
	@if (this.curso?.clases_curso) {
		<div id="curso" class="w-full cursor-pointer">
			@for (clase of this.curso?.clases_curso; track clase.id_clase) {
				<div class="flex w-full">
					<div class="m-2 items-start rounded-lg border border-black p-2">
						<p>{{ clase.posicion_clase }}</p>
					</div>
					<div id="clase-{{ clase.id_clase }}" class="m-2 flex flex-grow items-start rounded-lg border border-black p-2" draggable="true" (dragstart)="onDragStart($event, clase.id_clase)" (dragover)="this.onDragOver($event, clase.id_clase)" (drop)="this.onDrop($event)" (dragend)="this.onDragEnd($event)">
						<p>{{ clase.nombre_clase }}</p>
						<p class="ml-2 flex-grow text-gray-500">{{ clase.descriccion_clase }}</p>
						<svg xmlns="http://www.w3.org/2000/svg" (click)="eliminaClase(clase)" width="25px" height="25px" viewBox="0 0 8 8"><path fill="currentColor" d="M3 0c-.55 0-1 .45-1 1H1c-.55 0-1 .45-1 1h7c0-.55-.45-1-1-1H5c0-.55-.45-1-1-1zM1 3v4.81c0 .11.08.19.19.19h4.63c.11 0 .19-.08.19-.19V3h-1v3.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5V3h-1v3.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5V3h-1z" /></svg>
					</div>
					<button class="m-2 rounded-lg border border-black p-2" (click)="editar = clase">Editar esta clase</button>
				</div>
			}
		</div>
		<div class="flex">
			<button class="m-2 rounded-lg border border-black p-2" (click)="nuevaClase()">Añadir una nueva clase</button>
			@if (editado) {
				<button class="m-2 rounded-lg border border-black p-2" (click)="updateCurso()">Guardar cambios</button>
			}
		</div>
	}
</div>
@if (editar) {
	<div class="absolute left-0 top-0 z-10 flex h-full w-full flex-col bg-white/90">
		<div class="m-2 mb-2 mt-2 flex flex-grow flex-col rounded-lg border border-black p-2">
			<input class="m-2 cursor-pointer rounded-lg border border-black bg-transparent p-2" type="text" placeholder="Pon un nombre a tu Clase" [(ngModel)]="editar.nombre_clase" />
			<div class="flex">
				<div class="m-2 flex w-2/5 flex-col">
					<video id="video" controls></video>
					<button type="button" class="m-2 rounded-lg border border-black bg-transparent p-2">Cambiar Video</button>
				</div>
				<div class="m-2 flex w-3/5 flex-col">
					<input type="text" class="m-2 cursor-pointer rounded-lg border border-black bg-transparent p-2" placeholder="Pon una breve descripción de tu clase." [(ngModel)]="editar.descriccion_clase" />
					<textarea class="m-2 cursor-pointer rounded-lg border border-black bg-transparent p-2" rows="5" placeholder="Aquí es donde va todo el contenido de tu clase, todo lo que no esté en el video u en otros contenidos." [(ngModel)]="editar.contenido_clase"></textarea>
				</div>
			</div>
			<button type="button" class="m-2 rounded-lg border border-black bg-transparent p-2" (click)="guardarCambios()">Guardar Cambios</button>
		</div>
	</div>
}

<div class="flex w-full flex-col">
	<h3 class="w-full text-center font-bold text-green-700">ADMINISTRACIÃ“N</h3>
	<div class="flex">
		<button id="usuariosButton" class="m-2 cursor-pointer rounded-lg border border-black p-2 dark:border-gray-400" (click)="cargaUsuarios()">Usuarios</button>
		<button id="cursosButton" class="m-2 cursor-pointer rounded-lg border border-black p-2 dark:border-gray-400" (click)="cargaCursos()">Cursos</button>
		<button id="chatsButton" class="m-2 cursor-pointer rounded-lg border border-black p-2 dark:border-gray-400" (click)="cargaChats()">Chats</button>
	</div>
	<div class="flex flex-col">
		@if (this.tipo === 1) {
			<input id="buscadorUsuarios" placeholder="Busca usuario" class="m-2 w-full rounded-lg border border-black p-2 dark:border-gray-400" (input)="buscaUsuarios($event)" type="text" />
			@for (usr of this.usuariosSel; track $index) {
				<div class="m-2 flex items-center rounded-lg border border-black p-2 dark:border-gray-400">
					<p>{{ usr.id_usuario }}</p>
					<div class="ml-4 h-8 w-8">
						<img [src]="usr.foto_usuario[0]" class="h-full w-full" />
					</div>
					<div class="flex text-center">
						<p class="m-2">{{ usr.nombre_usuario }}</p>
						<p class="m-2">Rol: {{ usr.roll_usuario }}</p>
						<p class="m-2">Registro: {{ usr.fecha_registro_usuario }}</p>
						@if (usr.roll_usuario === 'USER') {
							<p class="m-2">Cursos registrados: {{ usr.cursos_usuario?.length }}</p>
						} @else {
							<p class="m-2">Cursos creados: {{ this.cursosService.getCursosProfe(usr).length }}</p>
						}
					</div>
				</div>
			}
		}
		@if (this.tipo === 2) {
			<input id="buscadorCursos" placeholder="Busca curso" class="m-2 w-full rounded-lg border border-black p-2 dark:border-gray-400" (input)="buscaCursos($event)" type="text" />
			@for (curs of this.cursosSel; track $index) {
				<div class="m-2 flex items-center rounded-lg border border-black p-2 dark:border-gray-400">
					<p>{{ curs.id_curso }}</p>
					<div class="ml-4 h-8 w-8">
						<img [src]="curs.imagen_curso" class="h-full w-full" />
					</div>
					<div class="flex text-center">
						<p class="m-2">{{ curs.nombre_curso }}</p>
						<p class="m-2">Profes:</p>
						@for (prof of curs.profesores_curso; track $index) {
							<p class="m-2">{{ prof.nombre_usuario }}</p>
						}
						<p class="m-2">Clases: {{ curs.clases_curso?.length }}</p>
					</div>
				</div>
			}
		}
		@if (this.tipo === 3) {
			<input id="buscadorChats" placeholder="Busca chat" class="m-2 w-full rounded-lg border border-black p-2 dark:border-gray-400" (input)="buscaChats($event)" type="text" />
			@for (chat of this.chatsSel; track $index) {
				<div class="m-2 flex items-center rounded-lg border border-black p-2 dark:border-gray-400">
					<p>{{ chat.id_curso }}</p>
					<div class="ml-4 h-8 w-8">
						<img [src]="chat.foto_curso" class="h-full w-full" />
					</div>
					<div class="flex text-center">
						<p class="m-2">{{ chat.nombre_curso }}</p>
						<p class="m-2">Clases: {{ chat.clases.length }}</p>
						<p class="m-2">Mensajes: {{ chat.mensajes.length }}</p>
					</div>
				</div>
			}
		}
	</div>
</div>
